<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Daily F2 Projections</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root {
    --bg: #020617;
    --card: #020b1f;
    --card-soft: #030712;
    --accent: #f97316;
    --accent-soft: rgba(249,115,22,0.15);
    --border: #1f2937;
    --text-main: #e5e7eb;
    --text-muted: #9ca3af;
    --input-bg: #020617;
    --input-border: #374151;
    --input-focus: #f97316;
    --input-readonly: #111827;
  }
  * { box-sizing:border-box; }
  body {
    margin:0;
    padding:20px 16px 32px;
    font-family:-apple-system, BlinkMacSystemFont, system-ui, sans-serif;
    background:radial-gradient(circle at top, #020817 0, #000 60%);
    color:var(--text-main);
  }
  .shell { max-width:560px; margin:0 auto; }
  h1 {
    margin:0 0 4px;
    text-align:center;
    font-size:26px;
    letter-spacing:0.02em;
  }
  .subtitle {
    text-align:center;
    font-size:13px;
    color:var(--text-muted);
    margin-bottom:18px;
  }
  .card {
    background:linear-gradient(145deg, var(--card-soft), var(--card));
    border-radius:22px;
    padding:16px 16px 18px;
    margin-bottom:14px;
    box-shadow:0 18px 40px rgba(15,23,42,0.85);
    border:1px solid rgba(148,163,184,0.18);
  }
  .card-header {
    display:flex;
    align-items:center;
    justify-content:space-between;
    margin-bottom:10px;
  }
  .card-title {
    font-size:16px;
    font-weight:600;
  }
  .pill {
    font-size:11px;
    padding:3px 9px;
    border-radius:999px;
    border:1px solid var(--accent);
    color:var(--accent);
    background:var(--accent-soft);
  }
  .section-note {
    font-size:11px;
    color:var(--text-muted);
    margin-bottom:4px;
  }
  .field {
    margin-bottom:9px;
  }
  .field label {
    display:block;
    font-size:13px;
    margin-bottom:3px;
  }
  .field small {
    display:block;
    font-size:11px;
    color:var(--text-muted);
  }
  input[type="text"],
  input[type="number"],
  input[type="date"],
  textarea {
    width:100%;
    border-radius:14px;
    border:1px solid var(--input-border);
    padding:8px 11px;
    font-size:14px;
    background:var(--input-bg);
    color:var(--text-main);
    outline:none;
    transition:border-color .15s, box-shadow .15s, background .15s;
  }
  input[type="number"] { text-align:right; }
  input:focus, textarea:focus {
    border-color:var(--input-focus);
    box-shadow:0 0 0 1px rgba(249,115,22,0.6);
    background:#020617;
  }
  input[readonly] {
    background:var(--input-readonly);
    border-style:dashed;
    color:#e5e7eb;
  }
  .two-col {
    display:grid;
    grid-template-columns:1.1fr 0.9fr;
    gap:8px;
  }
  .percent-row {
    display:grid;
    grid-template-columns:1.4fr 0.8fr;
    gap:8px;
  }
  .percent-row label { font-size:13px; }
  .badge-row {
    display:flex;
    gap:6px;
    flex-wrap:wrap;
    margin-bottom:8px;
  }
  .stat-pill {
    font-size:11px;
    padding:3px 8px;
    border-radius:999px;
    background:rgba(15,23,42,0.9);
    border:1px solid rgba(55,65,81,0.9);
    color:#cbd5f5;
  }
  button {
    width:100%;
    margin-top:4px;
    border-radius:999px;
    border:none;
    padding:11px 14px;
    font-size:15px;
    font-weight:600;
    background:linear-gradient(135deg, #f97316, #fb923c);
    color:#020617;
    box-shadow:0 12px 25px rgba(249,115,22,0.4);
  }
  button:active {
    transform:translateY(1px);
    box-shadow:0 6px 16px rgba(249,115,22,0.5);
  }
  #summaryBox {
    display:none;
    margin-top:10px;
  }
  #summaryBox textarea {
    min-height:120px;
    font-size:13px;
    white-space:pre-wrap;
  }
</style>
</head>
<body>
<div class="shell">
  <h1>Daily F2 Projections</h1>
  <div class="subtitle">Same logic as your Excel – tuned for phones.</div>

  <!-- Office / Date -->
  <div class="card">
    <div class="card-header">
      <div class="card-title">Office &amp; Date</div>
      <div class="pill">F2</div>
    </div>
    <div class="field">
      <label for="office">Office</label>
      <input id="office" type="text" placeholder="Asbury Park" />
    </div>
    <div class="field">
      <label for="projDate">Projection Date (for 17/18/19 line)</label>
      <input id="projDate" type="date" />
    </div>
  </div>

  <!-- Staffing Inputs -->
  <div class="card">
    <div class="card-header">
      <div class="card-title">Staffing Inputs</div>
      <div class="pill">Enter only here</div>
    </div>

    <div class="field">
      <label for="regStraightCount">Total Regulars in straight time</label>
      <input id="regStraightCount" type="number" min="0" inputmode="numeric" />
    </div>
    <div class="field">
      <label for="regNsotCount">Total Regulars in NSOT</label>
      <input id="regNsotCount" type="number" min="0" inputmode="numeric" />
    </div>
    <div class="field">
      <label for="ccaCount">Total CCAs</label>
      <input id="ccaCount" type="number" min="0" inputmode="numeric" />
    </div>

    <div class="field">
      <label for="regOtHours">Regular OT hours (all regs)</label>
      <input id="regOtHours" type="number" min="0" step="0.1" inputmode="decimal" />
    </div>
    <div class="field">
      <label for="ccaOtHours">CCA OT hours</label>
      <input id="ccaOtHours" type="number" min="0" step="0.1" inputmode="decimal" />
    </div>

    <div class="field">
      <label for="mailUp">Mail Up Time (optional)</label>
      <input id="mailUp" type="text" placeholder="e.g. All mail up by 09:30" />
    </div>
  </div>

  <!-- Projected Hours (auto) -->
  <div class="card">
    <div class="card-header">
      <div class="card-title">Projected Hours (auto)</div>
    </div>
    <div class="badge-row">
      <span class="stat-pill">All hours are 8-hour base + OT</span>
      <span class="stat-pill">NSOT carriers = 8 hrs OT each</span>
    </div>

    <div class="two-col">
      <div class="field">
        <label for="totalCarriers">Total carriers (auto)</label>
        <input id="totalCarriers" type="number" readonly />
      </div>
      <div class="field">
        <label for="totalHours">Total hours (auto)</label>
        <input id="totalHours" type="number" readonly />
      </div>
    </div>

    <div class="two-col">
      <div class="field">
        <label for="regHours">Reg hours (auto)</label>
        <input id="regHours" type="number" readonly />
      </div>
      <div class="field">
        <label for="nsotHours">NSOT hours (auto)</label>
        <input id="nsotHours" type="number" readonly />
      </div>
    </div>

    <div class="two-col">
      <div class="field">
        <label for="ccaHours">CCA hours (auto)</label>
        <input id="ccaHours" type="number" readonly />
      </div>
      <div class="field">
        <label for="totalOtHours">Total OT hours (auto)</label>
        <input id="totalOtHours" type="number" readonly />
      </div>
    </div>
  </div>

  <!-- OT % -->
  <div class="card">
    <div class="card-header">
      <div class="card-title">OT % (auto)</div>
    </div>
    <div class="percent-row">
      <div class="field">
        <label for="otPctAll">Total OT % (all hours)</label>
      </div>
      <div class="field">
        <input id="otPctAll" type="text" readonly />
      </div>
    </div>
    <div class="percent-row">
      <div class="field">
        <label for="otPctReg">Reg OT %</label>
      </div>
      <div class="field">
        <input id="otPctReg" type="text" readonly />
      </div>
    </div>
    <div class="percent-row">
      <div class="field">
        <label for="otPctCca">CCA OT %</label>
      </div>
      <div class="field">
        <input id="otPctCca" type="text" readonly />
      </div>
    </div>
  </div>

  <!-- 17 / 18 / 19 Projections -->
  <div class="card">
    <div class="card-header">
      <div class="card-title">Carriers still out</div>
    </div>
    <div class="section-note">How many carriers projected on the street at each time?</div>
    <div class="field">
      <label for="proj17">Carriers after 17:00</label>
      <input id="proj17" type="number" min="0" inputmode="numeric" />
    </div>
    <div class="field">
      <label for="proj18">Carriers after 18:00</label>
      <input id="proj18" type="number" min="0" inputmode="numeric" />
    </div>
    <div class="field">
      <label for="proj19">Carriers after 19:00</label>
      <input id="proj19" type="number" min="0" inputmode="numeric" />
    </div>
  </div>

  <!-- Notes + summary -->
  <div class="card">
    <div class="card-header">
      <div class="card-title">Notes</div>
    </div>
    <div class="field">
      <textarea id="notes" placeholder="Notes (e.g. 2 call-outs, heavy parcels in zone 3)…"></textarea>
    </div>

    <button type="button" onclick="copySummary()">Copy summary for text</button>

    <div id="summaryBox">
      <div class="section-note" style="margin-top:8px;">
        If copy to clipboard fails, long-press the text below and copy, then paste into your message.
      </div>
      <textarea id="summaryText" readonly></textarea>
    </div>
  </div>
</div>

<script>
  function num(v) {
    var n = parseFloat(v);
    return isNaN(n) ? 0 : n;
  }

  function recalc() {
    var regStraight = num(document.getElementById('regStraightCount').value);
    var regNsot     = num(document.getElementById('regNsotCount').value);
    var cca         = num(document.getElementById('ccaCount').value);
    var regOt       = num(document.getElementById('regOtHours').value);
    var ccaOt       = num(document.getElementById('ccaOtHours').value);

    // Excel-style logic
    var totalCarriers = regStraight + regNsot + cca;

    var regHours  = 8 * regStraight + regOt; // straight + OT
    var nsotHours = 8 * regNsot;            // all OT
    var ccaHours  = 8 * cca + ccaOt;

    var totalHours   = regHours + nsotHours + ccaHours;
    var totalOtHours = regOt + nsotHours + ccaOt;

    // Write hours
    document.getElementById('totalCarriers').value = totalCarriers ? totalCarriers : '';
    document.getElementById('regHours').value      = regHours ? regHours.toFixed(1) : '';
    document.getElementById('nsotHours').value     = nsotHours ? nsotHours.toFixed(1) : '';
    document.getElementById('ccaHours').value      = ccaHours ? ccaHours.toFixed(1) : '';
    document.getElementById('totalHours').value    = totalHours ? totalHours.toFixed(1) : '';
    document.getElementById('totalOtHours').value  = totalOtHours ? totalOtHours.toFixed(1) : '';

    // OT %
    var otAll = totalHours > 0 ? (totalOtHours / totalHours) * 100 : 0;
    var otReg = regHours  > 0 ? ((regOt + nsotHours) / regHours) * 100 : 0; // reg+NSOT vs reg hours
    var otCca = ccaHours  > 0 ? (ccaOt / ccaHours) * 100 : 0;

    document.getElementById('otPctAll').value = totalHours ? otAll.toFixed(1) + '%' : '';
    document.getElementById('otPctReg').value = regHours   ? otReg.toFixed(1) + '%' : '';
    document.getElementById('otPctCca').value = ccaHours   ? otCca.toFixed(1) + '%' : '';
  }

  ['regStraightCount','regNsotCount','ccaCount','regOtHours','ccaOtHours']
    .forEach(function(id){
      document.getElementById(id).addEventListener('input', recalc);
    });

  function buildSummary() {
    function v(id){ return document.getElementById(id).value || '0'; }
    var lines = [];
    lines.push('Office: ' + (document.getElementById('office').value || ''));
    lines.push('Projection Date: ' + (document.getElementById('projDate').value || ''));
    lines.push('');
    lines.push('Total carriers: ' + v('totalCarriers'));
    lines.push('Total hours: '   + v('totalHours'));
    lines.push('Total OT hours: '+ v('totalOtHours'));
    lines.push('OT % (all hours): ' + (document.getElementById('otPctAll').value || ''));
    lines.push('Reg OT %: '         + (document.getElementById('otPctReg').value || ''));
    lines.push('CCA OT %: '         + (document.getElementById('otPctCca').value || ''));
    lines.push('');
    lines.push('Carriers after 17:00: ' + (document.getElementById('proj17').value || '0'));
    lines.push('Carriers after 18:00: ' + (document.getElementById('proj18').value || '0'));
    lines.push('Carriers after 19:00: ' + (document.getElementById('proj19').value || '0'));
    lines.push('');
    if (document.getElementById('mailUp').value) {
      lines.push('Mail up: ' + document.getElementById('mailUp').value);
    }
    if (document.getElementById('notes').value) {
      lines.push('');
      lines.push('Notes: ' + document.getElementById('notes').value);
    }
    return lines.join('\n');
  }

  function copySummary() {
    recalc(); // make sure numbers are up to date
    var summary = buildSummary();

    var box = document.getElementById('summaryBox');
    var ta  = document.getElementById('summaryText');
    box.style.display = 'block';
    ta.value = summary;

    if (navigator.clipboard && navigator.clipboard.writeText) {
      navigator.clipboard.writeText(summary)
        .then(function(){
          alert('Summary copied. Paste into your text message.');
        })
        .catch(function(){
          alert('Summary ready below. Long-press the text and copy.');
        });
    } else {
      alert('Summary ready below. Long-press the text and copy.');
    }
  }
</script>
</body>
</html>